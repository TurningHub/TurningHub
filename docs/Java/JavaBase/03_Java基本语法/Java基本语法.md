# Java基本语法

## 01_关键字和保留字

### 关键字(keyword)

定义：被Java语言赋予了特殊含义，用做专门用途的字符串（单词）

特点：关键字中所有字母都为小写，在IDEA中同种类都是一个颜色

官方地址：https://docs.oracle.com/javase/tutorial/java/nutsandbolts/_keywords.html

![image-20210220142421082](images/image-20210220142421082.png) 

![image-20210220142539809](images/image-20210220142539809.png) 

### 保留字(reserved word)

`Java`保留字：现有`Java`版本尚未使用，但以后版本可能会作为关键字使 用。自己命名标识符时要避免使用这些保留字`goto 、const`

## 02_标识符

### 什么是标识符(Identifier)

Java 对各种**变量**、**方法**和**类**等要素命名时使用的字符序列称为标识符

**技巧：凡是自己可以起名字的地方都叫标识符。**

定义合法标识符规则：

1. 由26个英文字母大小写，0-9 ，_或 $ 组
2. 数字不可以开头。
3. 不可以使用关键字和保留字，但能包含关键字和保留字。
4. Java中严格区分大小写，长度无限制。
5. 标识符不能包含空格。

### 标识符的命名规范

1. 包名：多单词组成时所有字母都小写：xxxyyyzzz
2. 类名、接口名：多单词组成时，所有单词的首字母大写：XxxYyyZzz
3. 变量名、方法名：多单词组成时，第一个单词首字母小写，第二个单词开始每个 单词首字母大写：xxxYyyZzz
4. 常量名：所有字母都大写。多单词时每个单词用下划线连接：XXX_YYY_ZZZ

注意1：在起名字时，为了提高阅读性，要尽量有意义，“见名知意”。

注意2：`Java`采用`unicode`字符集，因此标识符也可以使用汉字声明，但是不建议使用。

## 03_变量

变量的概念：

1. 内存中的一个存储区域
2. 该区域的数据可以在同一类型范围内不断变化
3. 变量是程序中最基本的存储单元。包含**变量类型**、**变量名**和**存储的值**

变量的作用：

1. 用于在内存中保存数据

使用变量注意：

1. Java中每个变量必须先声明，后使用
2. 使用变量名来访问这块区域的数据
3. 变量的作用域：其定义所在的一对{ }内
4. 变量只有在其作用域内才有效
5. 同一个作用域内，不能定义重名的变量

具体使用：

1. 声明变量<数据类型> <变量名称>：int var;
2. 变量的赋值<变量名称> = <值>：var = 10;
3. 声明和赋值变量<数据类型> <变量名> = <初始化值>：int var = 10;

> **变量的分类：按数据类型**

对于每一种数据都定义了明确的具体数据类型（强类型语言），在内存中分配了不同大小的内存空间。

![image-20210220155031697](images/image-20210220155031697.png)  

| 基本数据类型         | 字节byte    | 位数bit | 默认值  | 值域                                     |
| -------------------- | ----------- | ------- | ------- | ---------------------------------------- |
| byte                 | 1字节       | 8位     | 0       | -128~127                                 |
| short                | 2字节       | 16位    | 0       | -32768~32767                             |
| **int**整数缺省值    | 4字节       | 32位    | 0       | -2147483648~2147483647                   |
| long                 | 8字节       | 64位    | 0L      | -9223372036854774808~9223372036854774807 |
| float                | 4字节       | 32位    | 0.0f    | ±340282346638528859811704183484516925440 |
| **double**浮点缺省值 | 8字节       | 64位    | 0.0d    | 精度是float的一倍                        |
| boolean              | 1字节/4字节 | 1位     | false   | true/false                               |
| char                 | 2字节       | 16位    | 'u0000' | 所有字符（最多65535个）                  |

注意：

1. 对于boolean，官方文档未明确定义，它依赖于 JVM 厂商的具体实现。逻辑上理解是占用 1位，但是实际中会考虑计算机高效存储因素

   [链接：Java中boolean类型占用多少个字节](https://www.cnblogs.com/wangtianze/p/6690665.html)

2. Java 里使用 long 类型的数据一定要在数值后面加上 **L**，否则将作为整型解析：

3. `char a = 'h'`char :单引号，`String a = "hello"` :双引号

4. 缺省值、默认值、default值代表一个意思

>**变量的分类：按声明的位置的不同**

![image-20210220152407005](images/image-20210220152407005.png) 

### 基本数据类型

> 整数类型

- Java各整数类型有固定的表数范围和字段长度，不受具体OS的影响，以保证Java程序的可移植性。
- Java的整型常量默认为 int 型，声明long型常量须后加‘l’或‘L
- Java程序中变量通常声明为int型，除非不足以表示较大的数，才使用long
- bit：计算机中的最小存储单位。byte：计算机中基本存储单元。

![image-20210220153303076](images/image-20210220153303076.png) 

一个`bit`存0或者存1有这两种情况，那么8位有多少种组合情况？2的8次方种也就是256个数字，如果只是正数表示0-255，加上负数就是-128-127也就是-2的7次方到2的7次方-1

符号位：一个数是正数还是负数是有符号位表示的，例如byte占用一个byte，如果是正数的话可以表达2的8次方也就是255，但是一位是符号位去表示是正数还是负数，也就只能是2的7次方128，值域减少一半。

> 浮点类型

- 与整数类型类似，Java 浮点类型也有固定的表数范围和字段长度，不受具体操作系统的影响。
- 浮点型常量有两种表示形式：
  -  十进制数形式：如：5.12 512.0f .512 (必须有小数点）
  - 科学计数法形式:如：5.12e2 512E2 100E-2
- float:单精度，尾数可以精确到7位有效数字。很多情况下，精度很难满足需求。
- double:双精度，精度是float的两倍。通常采用此类型。
- Java 的浮点型常量默认为double型，声明float型常量，须后加‘f’或‘F’。

![image-20210220154409291](images/image-20210220154409291.png) 

- 为什么占用相同的存储空间下，浮点数比int，long表示的范围要大？参考https://blog.csdn.net/sky1988818/article/details/86539119

  float型它有指数部分，规约数的指数可以表示到`2^127`，差不多是`10^38`这么大。从信息论的角度看，我们有额外的信息（IEEE 754的编码格式规定）嵌入在了数值范围的表示中，即我们知道哪个是符号位，哪些是指数部分，哪些是小数部分，以及省略的最高位的1，所以float型32个bit才能存下这么多信息。

- 认识精度

  ```java
  System.out.println(1 / 3.0);
  // 结果:0.3333333333333333
  // 计算机没有能力去把无线循环的结果展现出来
  ```

> 字符类型

- char 型数据用来表示通常意义上“字符”(2字节)
- Java中的所有字符都使用UTF-16编码的`Unicode`，故一个字符可以存储一个字母，一个汉字，或其他书面语的一个字符。UTF-16用16个bit，即两个byte，这也是char占用两个byte的原因。当把char转成数字的时候，需要用int。
- 字符型变量的三种表现形式：
  - 字符常量是用单引号(‘ ’)括起来的单个字符。例如：char c1 = 'a'; char c2 = '中'; char c3 = '9';
  - Java中还允许使用转义字符‘\’来将其后的字符转变为特殊字符型常量。 例如：char c3 = ‘\n’; // '\n'表示换行符
  - 直接使用 `Unicode` 值来表示字符型常量：‘\uXXXX’。其中，XXXX代表 一个十六进制整数。如：\u000a 表示 \n。
- char类型是可以进行运算的。因为它都对应有`Unicode`码。

| 转义字符 | 说明   |
| -------- | ------ |
| `\b`     | 退格符 |
| `\n`     | 换行符 |
| `\r`     | 回车符 |
| `\t`     | 制表符 |
| `\"`     | 双引号 |
| `\'`     | 单引号 |
| `\\`     | 反斜线 |

> 什么是字符集`(Charset )`

字符集就是字符的集合。一般会包含一种语言的字符。比如GBK，是包含所有常用汉字字符的字符集。ASCII是包含英文字符的字符集。

字符就是Java中的char , char是 character的简写。

> 什么是编码`( Encoding )`

char代表一个字符，char的本质也是数字。**将数字映射到字符**，就叫编码。

将一个字符集映射到数字，就是给这个字符集编码。编码是有标准的，所有的计算机系统按照同一个编码标准执行。

有时候编码和字符集会混用。

所有的字符都是由数字来表示的，数字由编码来映射到具体一个一个的字符的。

通俗讲：我们看到的计算机显示出来的多彩多样的汉字等，在计算机内部肯定使用二进制进行存储的，而将二进制组织起来成为一个个数字，例如007代表宋嘉诚，就是编码。就像是一种函数映射关系。

> ASCII码

- ASCII表:https://baike.baidu.com/item/ASCI/309296#3
- 在计算机内部，所有数据都使用二进制表示。每一个二进制位（bit）有 0 和 1 两种状态， 因此 8 个二进制位就可以组合出 256 种状态，这被称为一个字节（byte）。一个字节一 共可以用来表示 256 种不同的状态，每一个状态对应一个符号，就是 256 个符号，从 0000000 到 11111111。
- ASCII码：上个世纪60年代，美国制定了一套字符编码，对英语字符与二进制位之间的 关系，做了统一规定。这被称为ASCII码。ASCII码一共规定了128个字符的编码，比如 空格“SPACE”是32（二进制00100000），大写的字母A是65（二进制01000001）。这 128个符号（包括32个不能打印出来的控制符号），只占用了一个字节的后面7位，最前 面的1位统一规定为0。
- 缺点：
  -  不能表示所有字符。
  -  相同的编码表示的字符不一样：比如，130在法语编码中代表了é，在希伯来语编码中却代表了字母Gime(ג)

> Unicode 编码

- 乱码：世界上存在着多种编码方式，同一个二进制数字可以被解释成不同的符号。因 此，要想打开一个文本文件，就必须知道它的编码方式，否则用错误的编码方式解读， 就会出现乱码。
- Unicode：一种编码，将世界上所有的符号都纳入其中。每一个符号都给予一个独一 无二的编码，使用 Unicode 没有乱码的问题。
- Unicode 的缺点：Unicode 只规定了符号的二进制代码，却没有规定这个二进制代码应该如何存储：无法区别 Unicode 和 ASCII：计算机无法区分三个字节表示一个符号 还是分别表示三个符号。另外，我们知道，英文字母只用一个字节表示就够了，如果 unicode统一规定，每个符号用三个或四个字节表示，那么每个英文字母前都必然有 二到三个字节是0，这对于存储空间来说是极大的浪费。

> UTF-8 ( 8-bit Unicode Transformation Format ) 

- UTF-8 是在互联网上使用最广的一种 Unicode 的实现方式。
- UTF-8 是一种变长的编码方式。它可以使用 1-6 个字节表示一个符号，根据 不同的符号而变化字节长度
- UTF-8的编码规则：
  - 对于单字节的UTF-8编码，该字节的最高位为0，其余7位用来对字符进行编码（等同于 ASCII码）。
  - 对于多字节的UTF-8编码，如果编码包含 n 个字节，那么第一个字节的前 n 位为1，第一 个字节的第 n+1 位为0，该字节的剩余各位用来对字符进行编码。在第一个字节之后的 所有的字节，都是最高两位为"10"，其余6位用来对字符进行编码。

> 布尔类型

- boolean 类型用来判断逻辑条件，一般用于程序流程控制：
  - if条件控制语句；
  - while循环控制语句；
  - do-while循环控制语句；
  - for循环控制语句；
- boolean类型数据只允许取值true和false，无null
  - 不可以使用0或非 0 的整数替代false和true，这点和C语言不同。
  - Java虚拟机中没有任何供boolean值专用的字节码指令，Java语言表达所操作的 boolean值，在编译之后都使用java虚拟机中的int数据类型来代替：true用1表示，false 用0表示。———《java虚拟机规范 8版》

boolean类型占用字节提问？

问：“对于boolean，官方文档未明确定义，它依赖于 JVM 厂商的具体实现。逻辑上理解是占用 1位，但是实际中会考虑计算机高效存储因素”。如何看待这段解释。

答：JVM不是只能跑在高性能的服务器上，或者动则几个G的手机里，也可能跑在嵌入式设备里，跑在内存CPU很小的设备上。这时候JVM可能就值得优化了。

这就是标准的能力。标准只规定了boolean的使用规范，并不涉及其底层是怎么存储的。只要能当boolean用就行。

对于服务器之类的，当然是不在乎boolean占一个字节还是一个bit，访问的效率更重要，那就用一个byte。对于内存稀罕的，对访问速度又没什么要求的，没准可以（但是我觉得可能性也不高，寻址有问题）用一个byte表示好几个boolean。

### 基本数据类型变量间转换

前提：这里只考虑七种基本数据类型变量间的运算，不包含boolean类型

> 自动类型转换（提升）

- 不会出现问题的类型转换，编程语言可以做自动类型转换，比如低精度的数字向高精度的数字转换。

- 自动类型转换可以发生在算数运算，也可以发生在赋值。

- 当容量小(指表示数的范围的大小，不是存储空间的大小)的数据类型的变量与容量大的数据类型的变量做运算时，结果自动提升为容量大的数据类型。`byte、char、short-->int-->long-->float-->double`

  ![image-20210220165929741](images/image-20210220165929741.png) 

- byte,short,char之间不会相互转换，他们三者在计算时首先转换为int类型。

- boolean类型不能与其它数据类型运算。

- 当把任何基本数据类型的值和字符串(String)进行连接运算时(+)，基本数据类 型的值将自动转化为字符串(String)类型。

> 强制类型转换和数字溢出

1、强制类型转换：自动类型转换的逆运算，即高精度数值向低精度数值转换。

- 强制类型转换也是操作符，需要使用强转符：（），语法是用小括号将目标类型括起来放在被转换的前面

- 使用强制类型转换，可能出现问题

  ```java
  int intVal = 99;
  long longVal = 99999L;
  intVal = (int) longVal;
  // 超过int的值域就会丢失值
  System.out.println("intVal = " + intVal);
  
  int a = 65 + 2;
  char ch = (char) a;
  System.out.println("ch = " + ch);
  ```

- 强制转换会造成数据精度丢失

  ```java
  long longVal = 99999999999999L;
  int intVal = (int) longVal;
  System.out.println("intVal = " + intVal);// 276447231
  
  double doubleVal =  1234567890.123456789;
  float floatVal = (float)doubleVal;
  System.out.println("floatVal = " + floatVal);//  1.23456794E9
  ```

2、数值溢出

- 数值计算一旦溢出，结果将失去其原有意义。比如，两个正数会加出负数。

  ```java
  int intVal = 2000000000;
  // -294967296
  System.out.println(intVal + intVal);
  ```

- 要对能够处理的值有大概的估计。

3、从数值计算溢出理解程序员和编程语言：程序员就像是编程语言和问题之间的一个桥梁

- 编程语言的作用
  - 编程语言负责按照语法执行
  - 编程语言负责和计算机交互

- 程序员的任务
  - 程序员负责理解问题
  - 程序员负责理解程序，并将问题转换为程序
  - 编程语言不负责解决问题，程序员才负责解决问题

> 特殊情况

转换时候注意，**int**是整数缺省值，**double**是浮点类型缺省值，标题是变量间转换，如果`byte a1 = 1;a1 + 1`就不能使用`byte`来接收。

### 基本数据类型与String间转换



### 进制与进制间的转换

## 04_运算符

## 05_程序流程控制

